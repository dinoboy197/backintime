# TravisCI (https://travis-ci.org) configuration file
# https://docs.travis-ci.com/user/languages/python

language: python

python:
  - "3.2"
  - "3.3"
  - "3.4"
  - "3.5"
  - "3.5-dev" # 3.5 development branch
  - "nightly" # currently points to 3.6-dev
  
addons:
  apt:
    packages:
      - python3-dbus
      - python3-dbus-dev

#before_install:
#  - sudo apt-get install python3-dbus python3-dbus-dev 
#install:
#  - pip install python-systemd
  
# command to install dependencies
#install: "pip install -r requirements.txt"

# command to run tests
script:
  - python -m compileall common common/test common/plugins qt4 qt4/plugins
# unit tests don't execute properly under travis CI right now
# to debug, uncomment this line, commit and check in this file on any branch (must have travis CI linked to your github account and travis CI turned on for the BIT repository)
  - cd common && ./configure && make test-v
